<app-header-stats
  [totalColis]="totalColis"
  [colisLivres]="colisLivres"
  [colisRetards]="colisRetards"
  class="p-4"
></app-header-stats>
<div class="p-4">
  <!-- Barre de recherche -->
  <input
    class="mb-4 p-2 border border-gray-300 rounded-lg w-full"
    (keyup)="applyFilter($event)"
    placeholder="Rechercher un colis"
  />

  <!-- Table des colis -->
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-200">
      <thead class="bg-gray-100 border-b">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date d'enregistrement</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nom Prénom employé</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Numéro TALON / MCO</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Numéro LTA</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nom / Nature du produit</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Poids du produit</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date d'envoi</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date estimée d'arrivée</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Départ – Arrivée</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Coût du transport</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nom du propriétaire</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Numéro CNIB / PASSPORT</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Numéro de téléphone 1</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Numéro de téléphone 2</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status de livraison</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let colis of getPaginatedData()" class="border-b">
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ colis.id }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.date_enregistrement }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.nom_prenom_employe }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.numero_talon_mco }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.numero_lta }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.nom_nature_produit }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.poids_produit }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.date_envoi }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.date_estimee_arrivee }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.depart_arrivee }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.cout_transport }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.nom_proprietaire }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.numero_cnib_passport }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.numero_telephone_1 }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.numero_telephone_2 }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.email }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ colis.status_colis }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
            <button
              class="text-indigo-600 hover:text-indigo-900"
              (click)="editColis(colis)">Modifier</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="flex justify-between items-center mt-4">
    <div>
      <button
        class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300"
        (click)="prevPage()"
        [disabled]="currentPage === 1">Précédent</button>
      <button
        class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300"
        (click)="nextPage()"
        [disabled]="currentPage === totalPages">Suivant</button>
    </div>
    <div class="text-gray-600">
      Page {{ currentPage }} sur {{ totalPages }}
    </div>
  </div>
</div>


